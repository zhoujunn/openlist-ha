OpenList Home Assistant Integration
https://img.shields.io/badge/HACS-Custom-orange.svg
https://img.shields.io/badge/version-0.3.0-blue.svg
https://img.shields.io/badge/license-MIT-green.svg
V1.0.1
æ·»åŠ è¿›åº¦ä¼ æ„Ÿå™¨ï¼Œåˆ é™¤éƒ¨åˆ†ä¼ æ„Ÿå™¨ä¸å¿…è¦å±æ€§ã€‚

ä¸€ä¸ªç”¨äºé›†æˆ OpenList/Alist æ–‡ä»¶ç®¡ç†ç³»ç»Ÿçš„ Home Assistant è‡ªå®šä¹‰ç»„ä»¶ï¼Œæä¾›æ–‡ä»¶ç›‘æ§ã€ä»»åŠ¡ç®¡ç†å’Œè‡ªåŠ¨åŒ–æ§åˆ¶åŠŸèƒ½ã€‚

åŠŸèƒ½ç‰¹ç‚¹
ğŸ“Š ä¼ æ„Ÿå™¨ç›‘æ§
æ ¹ç›®å½•æ–‡ä»¶æ•°ï¼šç›‘æ§ OpenList æ ¹ç›®å½•ä¸‹çš„æ–‡ä»¶æ•°é‡

ä»»åŠ¡çŠ¶æ€ç›‘æ§ï¼šä¸ºæ¯ç§ä»»åŠ¡ç±»å‹æä¾›ä¸‰ä¸ªç‹¬ç«‹çš„ä¼ æ„Ÿå™¨ï¼š

å·²å®Œæˆä»»åŠ¡ï¼ˆæˆåŠŸå®Œæˆçš„ä»»åŠ¡ï¼‰

æœªå®Œæˆä»»åŠ¡ï¼ˆæ­£åœ¨è¿›è¡Œçš„ä»»åŠ¡ï¼‰

å·²å¤±è´¥ä»»åŠ¡ï¼ˆå·²å®Œæˆä½†å¤±è´¥çš„ä»»åŠ¡ï¼‰

ç›®å½•è·Ÿè¸ªï¼šå¯é…ç½®å¤šä¸ªè·Ÿè¸ªç›®å½•ï¼Œå®æ—¶ç›‘æ§æ–‡ä»¶æ•°é‡å˜åŒ–

ğŸ”§ ä¸°å¯Œçš„æœåŠ¡
ä»»åŠ¡ç®¡ç†æœåŠ¡ï¼š

è·å–ä»»åŠ¡ä¿¡æ¯ã€å·²å®Œæˆ/æœªå®Œæˆä»»åŠ¡

åˆ é™¤ã€å–æ¶ˆã€é‡è¯•ä»»åŠ¡

æ‰¹é‡æ“ä½œä»»åŠ¡

æ¸…é™¤å·²å®Œæˆ/æˆåŠŸä»»åŠ¡

æ–‡ä»¶æ“ä½œæœåŠ¡ï¼š

åˆ›å»ºç›®å½•ã€é‡å‘½åæ–‡ä»¶

ç§»åŠ¨ã€å¤åˆ¶ã€åˆ é™¤æ–‡ä»¶

æ‰¹é‡é‡å‘½åã€æ­£åˆ™é‡å‘½å

ç¦»çº¿ä¸‹è½½ã€å‹ç¼©æ–‡ä»¶æ“ä½œ

ğŸ¯ æ”¯æŒçš„ä»»åŠ¡ç±»å‹
ä¸Šä¼  (upload)

å¤åˆ¶ (copy)

ç¦»çº¿ä¸‹è½½ (offline_download)

ç¦»çº¿ä¸‹è½½è½¬å­˜ (offline_download_transfer)

è§£å‹ (decompress)

è§£å‹è½¬å­˜ (decompress_upload)

ç§»åŠ¨ (move)

å®‰è£…
æ–¹æ³•ä¸€ï¼šé€šè¿‡ HACS å®‰è£…ï¼ˆæ¨èï¼‰
ç¡®ä¿å·²å®‰è£… HACS

åœ¨ HACS ä¸­ç‚¹å‡»ã€Œé›†æˆã€

ç‚¹å‡»å³ä¸‹è§’ã€Œæµè§ˆå¹¶ä¸‹è½½ä»“åº“ã€

æœç´¢ã€ŒOpenListã€

ç‚¹å‡»ã€Œä¸‹è½½ã€

é‡å¯ Home Assistant

æ–¹æ³•äºŒï¼šæ‰‹åŠ¨å®‰è£…
å°† openlist æ–‡ä»¶å¤¹å¤åˆ¶åˆ°ä½ çš„ custom_components ç›®å½•

é‡å¯ Home Assistant

åœ¨é›†æˆé¡µé¢æ·»åŠ  OpenList

é…ç½®
é€šè¿‡ UI é…ç½®ï¼ˆæ¨èï¼‰
è¿›å…¥ Home Assistant â†’ è®¾ç½® â†’ è®¾å¤‡ä¸æœåŠ¡

ç‚¹å‡»ã€Œæ·»åŠ é›†æˆã€

æœç´¢ã€ŒOpenListã€

æŒ‰ç…§æç¤ºå¡«å†™ä»¥ä¸‹ä¿¡æ¯ï¼š

ä¸»æœºåœ°å€ï¼šä½ çš„ OpenList æœåŠ¡å™¨åœ°å€ï¼ˆå¦‚ï¼šhttps://your-openlist-server.comï¼‰

ç”¨æˆ·åï¼šOpenList ç™»å½•ç”¨æˆ·å

å¯†ç ï¼šOpenList ç™»å½•å¯†ç 

è·Ÿè¸ªç›®å½•ï¼ˆå¯é€‰ï¼‰ï¼šè¦ç›‘æ§æ–‡ä»¶æ•°é‡çš„ç›®å½•è·¯å¾„ï¼Œå¤šä¸ªç›®å½•ç”¨è‹±æ–‡é€—å·åˆ†éš”

é€šè¿‡ configuration.yaml é…ç½®
yaml
# ç¤ºä¾‹é…ç½®
openlist:
  host: "https://your-openlist-server.com"
  username: "your_username"
  password: "your_password"
  track_dirs:
    - "/downloads"
    - "/movies"
    - "/backup"
ä¼ æ„Ÿå™¨
é›†æˆå®‰è£…åä¼šè‡ªåŠ¨åˆ›å»ºä»¥ä¸‹ä¼ æ„Ÿå™¨ï¼š

æ–‡ä»¶æ•°é‡ä¼ æ„Ÿå™¨
sensor.openlist_root_files - æ ¹ç›®å½•æ–‡ä»¶æ•°é‡

ä»»åŠ¡æ•°é‡ä¼ æ„Ÿå™¨ï¼ˆæ¯ç§ä»»åŠ¡ç±»å‹éƒ½æœ‰ï¼‰
sensor.[ä»»åŠ¡åç§°]_å·²å®Œæˆä»»åŠ¡ - æˆåŠŸå®Œæˆçš„ä»»åŠ¡æ•°é‡

sensor.[ä»»åŠ¡åç§°]_æœªå®Œæˆä»»åŠ¡ - æ­£åœ¨è¿›è¡Œçš„ä»»åŠ¡æ•°é‡

sensor.[ä»»åŠ¡åç§°]_å·²å¤±è´¥ä»»åŠ¡ - å¤±è´¥çš„ä»»åŠ¡æ•°é‡

ä¾‹å¦‚ï¼š

sensor.ç§»åŠ¨_å·²å®Œæˆä»»åŠ¡

sensor.ä¸Šä¼ _æœªå®Œæˆä»»åŠ¡

sensor.å¤åˆ¶_å·²å¤±è´¥ä»»åŠ¡

è·Ÿè¸ªç›®å½•ä¼ æ„Ÿå™¨
sensor.ç›®å½•æ–‡ä»¶æ•°_[ç›®å½•è·¯å¾„] - æŒ‡å®šè·Ÿè¸ªç›®å½•çš„æ–‡ä»¶æ•°é‡

æœåŠ¡
ä»»åŠ¡ç®¡ç†æœåŠ¡
æœåŠ¡åç§°	æè¿°	å¿…éœ€å‚æ•°
openlist.get_task_info	è·å–ä»»åŠ¡ä¿¡æ¯	task_type
openlist.get_task_done	è·å–å·²å®Œæˆä»»åŠ¡	task_type
openlist.get_task_undone	è·å–æœªå®Œæˆä»»åŠ¡	task_type
openlist.delete_task	åˆ é™¤ä»»åŠ¡	task_type, tid
openlist.cancel_task	å–æ¶ˆä»»åŠ¡	task_type, tid
openlist.clear_done_tasks	æ¸…é™¤å·²å®Œæˆä»»åŠ¡	task_type
openlist.clear_succeeded_tasks	æ¸…é™¤æˆåŠŸä»»åŠ¡	task_type
openlist.retry_task	é‡è¯•ä»»åŠ¡	task_type, tid
openlist.retry_failed_tasks	é‡è¯•å¤±è´¥ä»»åŠ¡	task_type
openlist.delete_some_tasks	æ‰¹é‡åˆ é™¤ä»»åŠ¡	task_type, tids
openlist.cancel_some_tasks	æ‰¹é‡å–æ¶ˆä»»åŠ¡	task_type, tids
openlist.retry_some_tasks	æ‰¹é‡é‡è¯•ä»»åŠ¡	task_type, tids
æ–‡ä»¶æ“ä½œæœåŠ¡
æœåŠ¡åç§°	æè¿°	å¿…éœ€å‚æ•°
openlist.mkdir	åˆ›å»ºæ–‡ä»¶å¤¹	path
openlist.rename	é‡å‘½åæ–‡ä»¶/æ–‡ä»¶å¤¹	path, name
openlist.list_files	åˆ—å‡ºæ–‡ä»¶	-
openlist.get_file_info	è·å–æ–‡ä»¶ä¿¡æ¯	path
openlist.search_files	æœç´¢æ–‡ä»¶	parent, keywords, scope
openlist.get_dirs	è·å–ç›®å½•åˆ—è¡¨	-
openlist.batch_rename	æ‰¹é‡é‡å‘½å	src_dir, rename_objects
openlist.regex_rename	æ­£åˆ™é‡å‘½å	src_dir, src_name_regex, new_name_regex
openlist.move_files	ç§»åŠ¨æ–‡ä»¶	src_dir, dst_dir, names
openlist.recursive_move	é€’å½’ç§»åŠ¨æ–‡ä»¶	src_dir, dst_dir
openlist.copy_files	å¤åˆ¶æ–‡ä»¶	src_dir, dst_dir, names
openlist.remove_files	åˆ é™¤æ–‡ä»¶	dir_path, names
openlist.remove_empty_dir	åˆ é™¤ç©ºæ–‡ä»¶å¤¹	src_dir
openlist.add_offline_download	æ–°å»ºç¦»çº¿ä¸‹è½½	path, urls, tool, delete_policy
openlist.get_archive_meta	è·å–å‹ç¼©æ–‡ä»¶å…ƒä¿¡æ¯	path
openlist.list_archive	åˆ—å‡ºå‹ç¼©åŒ…å†…å®¹	path, inner_path
openlist.decompress_archive	è§£å‹ç¼©æ–‡ä»¶	src_dir, dst_dir, name, inner_path
